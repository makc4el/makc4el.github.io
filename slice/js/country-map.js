function initialize(){var e={scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,disableDoubleClickZoom:!0,zoom:2,center:new google.maps.LatLng(10,0),styles:[{elementType:"geometry",stylers:[{color:"#6659a3"}]},{elementType:"labels.text.stroke",stylers:[{color:"6659a3"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6659a3"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"transparent"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#fff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"transparent"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"transparent"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#fff"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#282560"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#282560"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#282560"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#282560"}]}],mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map-canvas"),e);var o=document.createElement("script"),t=["https://www.googleapis.com/fusiontables/v1/query?"];t.push("sql=");var r="SELECT name, kml_4326 FROM 1foc3xO9DyfSIF6ofvN0kp2bxSfSeKog5FbdWdQ",l=encodeURIComponent(r);t.push(l),t.push("&callback=drawMap"),t.push("&key=AIzaSyAm9yWCV7JPCTHCJut8whOjARd7pwROFDQ"),o.src=t.join("");var a=document.getElementsByTagName("body")[0];a.appendChild(o)}function drawMap(e){var o=e.rows;for(var t in o)if("Antarctica"!=o[t][0]){var r=[],l=o[t][1].geometries;if(l)for(var a in l)r.push(constructNewCoordinates(l[a]));else r=constructNewCoordinates(o[t][1].geometry);var s=new google.maps.Polygon({paths:r,strokeColor:"#fff",strokeOpacity:1,strokeWeight:1,fillColor:colors[1],fillOpacity:.9,name:o[t][0],chose:!1});google.maps.event.addListener(s,"mouseover",function(){}),google.maps.event.addListener(s,"mouseout",function(){}),google.maps.event.addListener(s,"click",function(){console.log($(this)),console.log($(this)[0].name);var e=Math.floor(6*Math.random())+1;if($(this)[0].chose)CountryCounter--,this.setOptions({fillColor:"transparent"}),$(this)[0].chose=!1;else{if(CountryCounter>=7)return 0;CountryCounter++,$(this)[0].chose=!0,this.setOptions({fillColor:randomColor[e],fillOpacity:1}),randomColor=randomColor.splice(e,1),console.log(randomColor),counter++,counter>6&&(counter=0)}}),s.setMap(map)}}function constructNewCoordinates(e){var o=[],t=e.coordinates[0];for(var r in t)o.push(new google.maps.LatLng(t[r][1],t[r][0]));return o}var colors=["#6659a3","transparent"],randomColor=["#34d6b6","#5f9cfd","#fb9d77","#669966","#FDCF8B","#FEF65B","#99668C"],map,counter=0,CountryCounter=0;google.maps.event.addDomListener(window,"dblclick",function(){return 0}),google.maps.event.addDomListener(window,"load",initialize);