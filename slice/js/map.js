function initialize(){geocoder=new google.maps.Geocoder}var Marker,map,markerCounter=0,flightPlanCoordinates=[],myPos={lat:-34.397,lng:150.644},markeArr=[],LinePathArr=[],service,geocoder,CityName=[],infowindow,nameCounter=0,name,geocoder,city,Valid=!0,CountrList=[];initMap=function(){map=new google.maps.Map(document.getElementById("map"),{center:myPos,zoom:4,styles:[]})},initMarker=function(e,n){var a=new google.maps.LatLng(e,n);geocoder.geocode({latLng:a},function(a,o){if(o==google.maps.GeocoderStatus.OK)if(a[1]){for(Valid=!0,i=0;i<a[0].address_components.length;i++)"locality"==a[0].address_components[i].types[0]&&(console.log(a[0].address_components[i].long_name),name=a[0].address_components[i].long_name,CountrList.push(name));var r={lat:e,lng:n},t="images/marker.png";Marker=new google.maps.Marker({position:r,draggable:!0,shadowStyle:1,padding:0,backgroundColor:"rgb(57,57,57)",borderRadius:5,arrowSize:10,borderWidth:1,borderColor:"#2c2c2c",disableAutoPan:!0,hideCloseButton:!0,arrowPosition:30,backgroundClassName:"transparent",arrowStyle:2,map:map,icon:t});var l='<div class="MyInfo">'+name+"</div>";markeArr.push(Marker),infowindow=new google.maps.InfoWindow({content:l}),infowindow.open(map,Marker),google.maps.event.addListener(Marker,"dragend",function(e){var n,a;flightPathClean();for(var o=0;o<markeArr.length;o++)n=markeArr[o].position.lat(),a=markeArr[o].position.lng(),flightPath(n,a)})}else Valid=!1;else Valid=!1;Valid&&flightPath(e,n)})},MapClick=function(){var e;google.maps.event.addListener(map,"click",function(n){e=n.latLng.lat(),lng=n.latLng.lng(),chengeMarkerCoordinate(e,lng)})},chengeMarkerCoordinate=function(e,n){initMarker(e,n)},flightPathClean=function(){flightPlanCoordinates=[];for(var e=0;e<LinePathArr.length;e++)LinePathArr[e].setMap(null)},flightPath=function(e,n){element={},element.lat=e,element.lng=n,flightPlanCoordinates.push(element),markeArr.length>0&&(LinePath=new google.maps.Polyline({path:flightPlanCoordinates,geodesic:!0,strokeColor:"#fff ",strokeOpacity:1,strokeWeight:2}),LinePathArr.push(LinePath),LinePath.setMap(map))},TaskManager=function(){initMap(),MapClick(),initialize()},$(document).ready(function(){TaskManager(),setInterval(function(){$(".gm-style-iw").prev().hide()},50)});